<!-- ============================================================== -->
<!-- Main wrapper - style you can find in pages.scss -->
<!-- ============================================================== -->
<div id="main-wrapper">
	<!-- ============================================================== -->
    <!-- Topbar header - style you can find in pages.scss -->
    <!-- ============================================================== -->
  <header id="header" class="topbar bg-topbar-header" xmlns="http://www.w3.org/1999/html">
    <nav class="navbar navbar-expand-lg navbar-light">
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation"> <span class="fa fa-bars text-white"></span> </button>
      <!-- ============================================================== -->
      <!-- Logo -->
      <!-- ============================================================== -->
      <div class="navbar-header m-l-20">
        <a class="navbar-brand" routerLink="/">
          <!-- Logo icon --><b>
          <img src="assets/images/logo/estudialo-header.png" alt="homepage" class="dark-logo p-b-5" />
        </b>
          <!--End Logo icon -->
          <!-- Logo text -->
        </a>
      </div>
      <!-- ============================================================== -->
      <!-- End Logo -->
      <!-- ============================================================== -->

      <!-- This is the navigation menu -->
      <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav ml-auto stylish-nav">
          <li class="nav-item"><a class="nav-link text-white font-medium border-left border-right bg-blue-header" (click)="open(content)" style="width:155px;">
            <span class="fa fa-magic"></span> Orientación</a>
            <!-- modal -->
            <ng-template #content let-c="close" let-d="dismiss">
              <div class="modal-header">
                <h4 class="modal-title"><i class="fa fa-lg fa-question-circle text-info" aria-hidden="true"></i><b>¿Aún no sabes que estudiar?</b></h4>
                <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="row">
                  <div class="col-md-6">
                    <img class="img-fluid" src="assets/images/test/test.jpeg">
                  </div>
                  <div class="col-md-6 text-justify">
                    <p>
                      Utiliza nuestra guía para encontrar tu vocación, aprovéchalo! es <b><strong>gratis.</strong></b>
                    </p>
                    <p>
                      <i>basada en los múltiples tipos de inteligencias de Howard Gardner escoge al final las ofertas
                        educativas que mejor se asocien a tus  inteligencias en potencia.</i>
                    </p>
                    <br>
                    <p>
                      <strong>Solo te tomara máximo 8 minutos.</strong>
                    </p>
                  </div>

                </div>
              </div>
              <div class="modal-footer">
                <div class="col-6 text-left">
                  <button type="button" class="btn btn-info animated infinite pulse" (click)="testVocacional()">Usar guía vocacional</button>
                </div>
                <div class="text-right col-6">
                  <button type="button" class="btn btn-outline-dark" (click)="c('Close click')">Cerrar</button>
                </div>
              </div>
            </ng-template>
            <!-- fin modal -->
          </li>
          <li class="nav-item"> <a class="nav-link text-white font-medium border-right bg-blue-header"  [routerLink]="['/financieras/todas']" style="width:140px;"><span class="fa fa-dollar"></span> Finánciate</a> </li>

          <!-- ============================================================== -->
          <!-- Search -->
          <!-- ============================================================== -->
          <li class="nav-item search-box"> <a class="nav-link waves-effect waves-dark text-white font-medium border-right bg-blue-header" style="width:190px;"><span class="fa fa-graduation-cap"></span> ¿Qué estudiar?</a>
            <form class="app-search form-material">
              <div class="row estudialo-background-2">

                <div class="form-group col-md col-6 m-t-30">
                  <div class="m-l-10 m-r-10">
                      <label class="font-medium">Departamento:</label>
                      <select class="form-control" name="idDeparatmento" 
                              #idDepartamento="ngModel"
                              [(ngModel)]="idFiltros.idDepartamento"
                              (change)="onSelectDepartamento($event.target.value)">
                        <option *ngFor="let departamento of departamentos"
                                value="{{departamento.id}}">{{departamento.nombre}}</option>
                      </select>
                  </div>
                </div>

                <div *ngIf="selectDepartamento" >
                  <div class="form-group col-md col-3 m-t-30">
                    <div class="m-l-10 m-r-10">
                      <label>Municipio:</label>
                      <select class="form-control" #idMunicipio="ngModel" name="idMunicipio" [(ngModel)]="idFiltros.idMunicipio">
                        <option value="all">Todos</option>
                        <option *ngFor="let municipio of municipios" value="{{municipio.id}}">{{municipio.nombre}}</option>
                      </select>
                    </div>
                  </div> 
                </div>

                <div class="form-group col-md col-6 m-t-30">
                  <div class="m-l-10 m-r-10">
                    <label>Categoría:</label>
                    <select class="form-control" #idCategoria="ngModel" name="idCategoria" [(ngModel)]="idFiltros.idCateroria">
                      <option value="all">Todas</option>
                      <option *ngFor="let categoria of categorias" value="{{categoria.id}}">{{categoria.nombre}}</option>
                    </select>
                  </div>
                </div>
                <div class="form-group col-md col-6 m-t-30">
                  <div class="m-l-10 m-r-10">
                    <label>Nivel:</label>
                    <select class="form-control" #idOferta="ngModel" name="idOferta" [(ngModel)]="idFiltros.idOferta">
                      <option value="all">Todas</option>
                      <option *ngFor="let tipooferta of tipoOfertas" value="{{tipooferta.id}}">{{tipooferta.nombre}}</option>
                    </select>
                  </div>
                </div>

                <div class="form-group col-md col-6 m-t-30">
                  <div class="m-l-10 m-r-10">
                    <label>Nombre del programa:</label>
                   <input class="form-control" type="text" #nombreCarrera="ngModel"  name="nombreCarrera" [(ngModel)]="idFiltros.nombreCarrera" >
                  </div>
                </div>    
                
                <div class="col-md col-6 mx-sm-2 m-t-30 m-r-20 m-b-30 p-t-10">
                  <div class="m-l-10 m-r-10">
                    <button type="button" class="btn btn-outline-info" placeholder="Buscar" (click)="clickFiltrar()">Filtrar</button>
                  </div>
                </div>
              </div>
              <a class="srh-btn"><i class="ti-close"></i></a>

            </form>
          </li>


          <!-- fin search -->

          <!-- ============================================================== -->
          <!-- soy instructor -->
          <!-- ============================================================== 
          <li class="nav-item dropdown">
            <a class="dropdown-toggle nav-link waves-effect waves-dark text-white font-medium border-right bg-blue-header" style="width:175px;" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="fa fa-clipboard"></span> Soy Instructor</a>
            <div class="dropdown-menu dropdown-menu-right animated flipInY">
              <ul class="dropdown-user">
                <li><a [routerLink]="['/registrate']">
                  <i class="ti-user"></i> Regístrate</a></li>
                <li role="separator" class="divider"></li>
                <li><a [routerLink]="['/login']"><i class="ti-key"></i> Ingresar</a></li>
              </ul>
            </div>
          </li>
           ============================================================== -->
          <!-- Fin soy instructor -->
          <!-- ============================================================== -->

          <!-- ============================================================== -->
          <!-- Profile -->
          <!-- ============================================================== -->
          <div *ngIf="isLogged; then isLoggedTRUE else isLoggedFALSE ">
          </div>

          <ng-template #isLoggedFALSE>
            <li class="nav-item dropdown m-t-10 m-l-20">

              <a class="dropdown-toggle waves-effect m-t-5 m-r-5 btn btn-info m-b-10" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <small class="white font-16">Mi Perfil</small>
              </a>
              <div class="dropdown-menu dropdown-menu-right animated flipInY">
                <ul class="dropdown-user">
                  <li><a [routerLink]="['/registrate']">
                    <i class="ti-user"></i> Regístrate</a></li>
                  <li role="separator" class="divider"></li>
                  <li><a [routerLink]="['/login']"><i class="ti-key"></i> Iniciar Sesión</a></li>
                </ul>
              </div>
            </li>
          </ng-template>

          <ng-template #isLoggedTRUE>
            <li class="nav-item dropdown m-l-20">

              <a class="nav-link dropdown-toggle waves-effect waves-dark"
                 href=""
                 data-toggle="dropdown"
                 aria-haspopup="true"
                 aria-expanded="false">

                <img src="/api/imagen/{{profileUrlImage}}/{{dataUser.urlImagen}}" alt="user" class="profile-pic" />
              </a>
              <div class="dropdown-menu dropdown-menu-right animated flipInY">
                <ul class="dropdown-user">
                  <li>
                    <div class="dw-user-box">
                      <div class="u-img">
                        <img src="/api/imagen/{{profileUrlImage}}/{{dataUser.urlImagen}}" alt="user">
                      </div>

                      <div class="u-text">
                        <h4 *ngIf="dataUser.nombres == null">{{ dataUser.nombre }}</h4>
                        <h4 *ngIf="dataUser.nombres != null">{{ dataUser.nombres }}</h4>
                        <p class="text-muted">{{ dataUser.email }}</p>
                      </div>
                    </div>
                  </li>
                  <li role="separator" class="divider"></li>
                  <li>
                    <a routerLink="/login">
                      <i class="ti-user"></i> Mi perfil</a>
                  </li>

                  <li>
                    <a href="javascript:void(0)" (click)="salir()" ><i class="fa fa-power-off"></i> Cerrar Sesión</a>
                  </li>
                </ul>
              </div>
            </li>
          </ng-template>
        </ul>
      </div>

    </nav>
  </header>
  <!-- ============================================================== -->
  <!-- End Topbar header -->
  <!-- ============================================================== -->

    <div class="page-wrapper2">
      <div class="p-t-60">

          <br><br>
          <div class="show-button-filters">

              <app-fitro-busqueda></app-fitro-busqueda>
           
          </div>

        <div class="row col-md-12 text-center">
          <div class="col-md-6 offset-md-3 align-self-center">

            <br>
            <div class="col-md-12">
              <h1 class="text-info">Busqueda</h1>
              <br>
              <form #formSearch="ngForm"
                    (ngSubmit)="clickBuscador()"
                    id="formSearch"
                    name="formSearch">
                <div class="input-group">
                  <input type="text" class="form-control" placeholder="Buscar por nombre, ciudad, categoría o cualquier palabra" name="search" [(ngModel)]="inputbuscador.search">
                  <span class="input-group-btn">
                <button class="btn btn-info" type="submit">Buscar</button>
              </span>
                </div>
              </form>
            </div>
          </div>

        </div>
      </div>
				<!-- ============================================================== -->
                <!-- Start Page Content -->
                <!-- ============================================================== -->
    	<div class="page-wrapper2">
<!--contenedor ofertas filtros  -->
	<div class="container">
	<!-- ============================================================== -->
                <!-- Start Page Content -->
                <!-- ============================================================== -->
                <!-- .row -->
                <div class="row p-t-20">
	                <div class="col-md-12 align-self-center">
	                    <h2 class="text-themecolor">Resultado filtros</h2>
	                </div>

                  

                  <div class="col-md-8">
                    <!-- .col -->
                    <div *ngIf="Filtros">

                      <div *ngIf="Filtros == ''" class="col-md-12 col-lg-12 col-xlg-12">
                        <div class="card card-body">
                          <h2>No se encontraron ofertas con estos filtros</h2>
                        </div>
                      </div>

                      <div class="col-md-12 col-lg-12 col-xlg-12" *ngFor="let filtros of Filtros">
                        <div class="card card-body">
                          <div class="row">
                            <div class="col-md-4 col-lg-3 text-center">
                              <a [routerLink]="['/ofertas/detalle', filtros.id]">
                                <img src="http://estudialo.co/api/imagen/oferta/{{filtros.imagenUrl}}" class="img-responsive">
                              </a>
                            </div>
                            
                            <div class="col-md-8 col-lg-9">
                              <a class="box-title m-b-0 font-bold" [routerLink]="['/ofertas/detalle', filtros.id]">{{filtros.titulo}}</a>
                              <div class="row">
                                <div class="col-md">
                                  <small class="font-bold">{{filtros.categoria.nombre}}</small>
                                </div>
                                <div class="col-md text-right">
                                  <div class="stars-outer">
                                    <div class="stars-inner" [ngStyle]="{'width':filtros.calificacion.porcentaje+'%'}"></div>
                                  </div>
                                  <small> ({{filtros.calificacion.puntaje}})</small>
                                </div>
                              </div>
                              <address>
                                <small class="font-medium2">{{filtros.descripcion | slice:0:60 }}...</small>
                                <a  [routerLink]="['/ofertas/detalle', filtros.id]"> Ver más</a>
                                <br/>
                                <small class="font-medium2">Ofrece: {{filtros.tipoOfrece.nombre}} | {{filtros.municipio.nombre}} - {{filtros.municipio.departamento.nombre}} | </small>
                                <div *ngIf="isLogged">
                                  <small class="font-bold"> Precio: {{filtros.precio}}</small>                                                                                                   
                              </div>
                              <div *ngIf="!isLogged">
                                    <small class="text-info">Inicia Sesión para ver los precios</small>
                              </div>
                                
                              </address>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- /.col -->
                    <div class="col-md-12 col-lg-12 col-xlg-12 m-t-20" *ngIf="!Filtros">
                      <div class="loader">
                        <div class="loader__figure"></div>
                        <p class="loader__label">estúdialo</p>
                      </div>

                    </div>
                  </div>

                  <div class="col-lg-4 col-xlg-3 col-md-4">
                      <div class="card hidden-filtros">
                        <div class="card-body">
                          <div class="list-group" id="top-menu">
  
                            <div>
                                <app-partial-formulario-filtros  (OfertasFiltradas)="datosFiltroPartial($event)"></app-partial-formulario-filtros>
                            </div>
  
                          </div>
                        </div>
                      </div> <!-- ./ end card filtros-->
  
                      <br>
                      <h1 class="view-filters__title text-info">
                          Instituciones
                      </h1>
                      <br>
                      <div class="card">
                          <div class="card-body">
                              
                                <div class="row col-12" >
                                    <div class="col-lg-6 col-md-12" *ngFor="let institucion of instituciones">
                                        <a *ngIf="institucion.tipoInstitucion.id === 1"  
                                          [routerLink]="['/universidad/detalle', institucion.id]"
                                          title="{{institucion.nombre}}">
      
                                          <img class="img-responsive" src="https://estudialo.co/api/imagen/institucion/{{institucion.urlImagen}}" alt="{{institucion.nombre}}">
                                          <br>
                                      </a>
                                    </div>
                                  </div>
                                   
                          </div>
                      </div> <!-- ./ end cars Instituciones-->

                      <br>
                      <h1 class="view-filters__title text-info">
                          Financieras
                        </h1>
                        <br>
  
                      <div class="card">
                          <div class="card-body">
                              
                                <div class="row col-12" >
                                    <div  class="col-lg-6 col-md-12" *ngFor="let financiera of (financieras ? financieras.slice(0,10): [])">
                                        <a *ngIf="financiera.tipoInstitucion.id === 4"  
                                          [routerLink]="['/financieras/detalle', financiera.id]"
                                          title="{{financiera.nombre}}">
                                          <img class="img-responsive" src="https://estudialo.co/api/imagen/institucion/{{financiera.urlImagen}}" alt="{{financiera.nombre}}"> <br>
                                        </a>
                                    </div>
                                    
                                  </div>
                                  <a routerLink="/financieras/todas" > Ver más >></a>  
                          </div>
                      </div> <!-- ./ end cars financieras-->
                      
  
  
                    </div><!-- ./end col-lg-4 col-xlg-3 col-md-4-->
                    
                </div>
                <!-- /.row -->
                <!-- ============================================================== -->
                <!-- End PAge Content -->
                <!-- ============================================================== -->
    </div>
</div>


    <app-partners></app-partners>
		<app-footer></app-footer>

    </div>

</div>
<!-- ============================================================== -->
<!-- End Page wrapper  -->
<!-- ============================================================== -->
